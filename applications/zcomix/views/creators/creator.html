{{from applications.zcomix.modules.images import img_tag}}
{{from applications.zcomix.modules.utils import ItemDescription}}
{{extend 'layout.html'}}
<div id="creator_page">
<div class="row-fluid" id="top_section">
    <div class="span7" id="top_left_column">
        <div id="name">
            {{=creator.name}}
        </div>
        {{=ItemDescription(creator.bio).as_html(**dict(_id='bio'))}}
        <div class="row-fluid" id="id_section">
            <div class="span4" id="mug_shot">
                {{=img_tag(creator.image, size='thumb')}}
            </div>
            <div class="span8" id="id_details">
                {{for f in ['website', 'email', 'twitter', 'tumblr']:}}
                    {{try:}}
                    {{if creator[f]:}}
                        <div>{{=f}}: {{=db.creator[f].represent(creator[f], creator)}}</div>
                    {{pass}}
                    {{except:}}
                    {{pass}}
                {{pass}}
                {{if links:}}
                <div>links:
                    {{=links}}
                </div>
                {{pass}}
            </div>
        </div>
    </div>

    <div class="span5" id="top_right_column">
        <div class="row-fluid">
            <div class="span7 offset5">
                {{=LOAD(c='search', f='box', extension='load', ajax=False, content='')}}
            </div>
        </div>
    </div>
</div>
<div id="report_section">
    {{=LOAD(c='creators', f='books', args=[request.args(0)], extension='load', ajax=True, ajax_trap=True)}}
</div>
</div>
<script src="{{=URL(c='static', f='js/description.js')}}"> </script>
